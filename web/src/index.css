@tailwind base;
@tailwind components;
@tailwind utilities;

/* kleine Helfer-Animationen (neutral) */
@keyframes softGlow {0%,100%{box-shadow:0 0 0 rgba(34,197,94,0)}50%{box-shadow:0 0 16px rgba(34,197,94,.45)}}
.glow-green { animation: softGlow 2s ease-in-out infinite; }
/* PF UI PATCH v1 */
/* 1) Horizontale Chips-Leiste: Scrollbar verstecken (Firefox, WebKit, Edge) */
.sticky .overflow-x-auto { -ms-overflow-style: none; scrollbar-width: none; }
.sticky .overflow-x-auto::-webkit-scrollbar { display: none; }

/* 2) Karten & Bilder: konsistentes Seitenverhältnis, kein Überlappen */
.card { border-radius: 1rem; background: rgba(15,23,42,.5); border: 1px solid rgba(71,85,105,.5); }
.card .media { position: relative; padding-top: 66.6667%; background:#1f2937; overflow:hidden; border-top-left-radius: 1rem; border-top-right-radius: 1rem; }
.card .media > img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }

/* Falls Produktkarten Bilder direkt enthalten, greift das ebenfalls sicher */
.card > img { width:100%; height:auto; display:block; }

/* 3) Safe-Area unten: Content darf nicht unter die Bottom-Nav rutschen */
main { padding-bottom: max(6.5rem, env(safe-area-inset-bottom, 0px)); }

/* 4) Kleine Utilities (falls im Projekt noch nicht vorhanden) */
.hide-scroll { -ms-overflow-style:none; scrollbar-width:none; }
.hide-scroll::-webkit-scrollbar { display:none; }
.pf-pt-safe { padding-top: env(safe-area-inset-top, 0px); }
.pf-pb-safe { padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px)); }
/* PF UI PATCH v1 */
/* 1) Horizontale Chips-Leiste: Scrollbar verstecken (Firefox, WebKit, Edge) */
.sticky .overflow-x-auto { -ms-overflow-style: none; scrollbar-width: none; }
.sticky .overflow-x-auto::-webkit-scrollbar { display: none; }

/* 2) Karten & Bilder: konsistentes Seitenverhältnis, kein Überlappen */
.card { border-radius: 1rem; background: rgba(15,23,42,.5); border: 1px solid rgba(71,85,105,.5); }
.card .media { position: relative; padding-top: 66.6667%; background:#1f2937; overflow:hidden; border-top-left-radius: 1rem; border-top-right-radius: 1rem; }
.card .media > img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; }

/* Falls Produktkarten Bilder direkt enthalten, greift das ebenfalls sicher */
.card > img { width:100%; height:auto; display:block; }

/* 3) Safe-Area unten: Content darf nicht unter die Bottom-Nav rutschen */
main { padding-bottom: max(6.5rem, env(safe-area-inset-bottom, 0px)); }

/* 4) Kleine Utilities (falls im Projekt noch nicht vorhanden) */
.hide-scroll { -ms-overflow-style:none; scrollbar-width:none; }
.hide-scroll::-webkit-scrollbar { display:none; }
.pf-pt-safe { padding-top: env(safe-area-inset-top, 0px); }
.pf-pb-safe { padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px)); }
/* PF MINI PATCH v2 */
.sticky .overflow-x-auto{ -ms-overflow-style:none; scrollbar-width:none }
.sticky .overflow-x-auto::-webkit-scrollbar{ display:none }
.hide-scroll{ -ms-overflow-style:none; scrollbar-width:none }
.hide-scroll::-webkit-scrollbar{ display:none }
.pf-pt-safe{ padding-top:env(safe-area-inset-top,0) }
.pf-pb-safe{ padding-bottom:calc(64px + env(safe-area-inset-bottom,0)) }
main{ padding-bottom:max(6.5rem, env(safe-area-inset-bottom,0)) }
.card .media{ position:relative; padding-top:66.6667%; background:#1f2937; overflow:hidden; border-top-left-radius:1rem; border-top-right-radius:1rem }
.card .media>img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block }
/* PF CLEAN MENU v3 */
.pf-safe-top{padding-top:env(safe-area-inset-top,0)}
.pf-safe-bottom{padding-bottom:calc(72px + env(safe-area-inset-bottom,0))}
.card{border-radius:1rem;border:1px solid rgba(71,85,105,.5);background:rgba(2,6,23,.6)}
.tile-media{position:relative;overflow:hidden;border-top-left-radius:1rem;border-top-right-radius:1rem}
/* PF TRACKING v1 */
@keyframes pf-blink { 0%,100%{opacity:.35} 50%{opacity:1} }
@keyframes pf-pulse-soft { 0%{ box-shadow:0 0 0 0 rgba(16,185,129,.45) } 70%{ box-shadow:0 0 0 12px rgba(16,185,129,0) } 100%{ box-shadow:0 0 0 0 rgba(16,185,129,0) } }
.pf-blink { animation: pf-blink 1.2s infinite; }
.pf-pulse { animation: pf-pulse-soft 1.8s infinite; }
.pf-step { height:6px; border-radius:9999px; background:linear-gradient(90deg,#10b981 0%,#22d3ee 100%); }
.pf-step-muted { height:6px; border-radius:9999px; background:rgba(71,85,105,.6); }
.pf-chip { padding:.35rem .6rem; border-radius:9999px; border:1px solid rgba(71,85,105,.8); background:rgba(2,6,23,.6); font-size:.75rem; }
.pf-eta-badge { border:1px solid rgba(16,185,129,.6); background:rgba(16,185,129,.12); }
/* ===== PF MENU FIX v4 (no Tailwind aspect plugin required) ===== */
.pf-grid { display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:6px; }
@media (min-width:640px){ .pf-grid{ grid-template-columns:repeat(4,minmax(0,1fr)); gap:8px; } }
@media (min-width:768px){ .pf-grid{ grid-template-columns:repeat(5,minmax(0,1fr)); gap:10px; } }
@media (min-width:1024px){ .pf-grid{ grid-template-columns:repeat(6,minmax(0,1fr)); } }
@media (min-width:1280px){ .pf-grid{ grid-template-columns:repeat(8,minmax(0,1fr)); } }

.pf-card { border-radius:12px; border:1px solid rgba(71,85,105,.5); background:rgba(2,6,23,.6); overflow:hidden; }
.pf-media { position:relative; width:100%; aspect-ratio:1/1; background:#0b1220; min-height:90px; }
@media (min-width:640px){ .pf-media{ aspect-ratio:3/2; min-height:100px; } }
.pf-media > img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.pf-badge { position:absolute; left:8px; top:8px; padding:2px 6px; border-radius:9999px; font-size:10px; background:rgba(34,197,94,.9); }
.pf-body { padding:6px; }
.pf-title { font-size:12px; line-height:1.2; font-weight:600; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.pf-price { font-size:12px; margin-top:2px; font-weight:600; }
.pf-price s { opacity:.6; margin-right:4px; }
/* ================================================================ */
/* ===== PF MENU FIX v4 (no Tailwind aspect plugin required) ===== */
.pf-grid { display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:6px; }
@media (min-width:640px){ .pf-grid{ grid-template-columns:repeat(4,minmax(0,1fr)); gap:8px; } }
@media (min-width:768px){ .pf-grid{ grid-template-columns:repeat(5,minmax(0,1fr)); gap:10px; } }
@media (min-width:1024px){ .pf-grid{ grid-template-columns:repeat(6,minmax(0,1fr)); } }
@media (min-width:1280px){ .pf-grid{ grid-template-columns:repeat(8,minmax(0,1fr)); } }

.pf-card { border-radius:12px; border:1px solid rgba(71,85,105,.5); background:rgba(2,6,23,.6); overflow:hidden; }
.pf-media { position:relative; width:100%; aspect-ratio:1/1; background:#0b1220; min-height:90px; }
@media (min-width:640px){ .pf-media{ aspect-ratio:3/2; min-height:100px; } }
.pf-media > img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.pf-badge { position:absolute; left:8px; top:8px; padding:2px 6px; border-radius:9999px; font-size:10px; background:rgba(34,197,94,.9); }
.pf-body { padding:6px; }
.pf-title { font-size:12px; line-height:1.2; font-weight:600; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.pf-price { font-size:12px; margin-top:2px; font-weight:600; }
.pf-price s { opacity:.6; margin-right:4px; }
/* ================================================================ */
/* PF CART FAB */
.pf-cart-fab {
  position: fixed; right: 14px; bottom: calc(84px + env(safe-area-inset-bottom, 0));
  z-index: 60; display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 12px; border-radius: 9999px;
  background: linear-gradient(90deg,rgba(16,185,129,.25),rgba(34,211,238,.25));
  border: 1px solid rgba(71,85,105,.6); backdrop-filter: blur(6px);
}
.pf-cart-fab .pf-badge {
  min-width: 22px; height: 22px; padding: 0 6px; border-radius: 9999px;
  display: inline-flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 700; color: #0f172a;
  background: linear-gradient(90deg,#34d399,#22d3ee);
}
.pf-cart-fab .pf-total { font-size: 12px; opacity: .9; }

/* ---- Fixed Checkout-Bar & Safe-Area ---- */
:root{ --pf-nav-h:64px; } /* Höhe der Bottom-Navbar (bei dir ~64px) */
.pf-bottom-nav{ z-index:40; }              /* Navbar liegt "unten" */
.pf-cart-bar{                               /* Checkout-Bar liegt darüber */
  position:fixed;
  left:16px; right:16px;
  bottom:calc(var(--pf-nav-h) + env(safe-area-inset-bottom) + 8px);
  z-index:60;
}
.pf-cart-bar .btn{ width:100%; }

/* genügend Scroll-Abstand im Menü, damit nichts verdeckt */
.pf-pb-for-cart{
  padding-bottom:calc(var(--pf-nav-h) + env(safe-area-inset-bottom) + 120px);
}

/* === Add-to-Cart FX === */
.pf-cart-fx{
  position: fixed;
  right: 20px;
  bottom: calc(var(--pf-nav-h,64px) + env(safe-area-inset-bottom) + 16px);
  z-index: 70;
}
.pf-cart-fx .pf-bubble{
  width: 12px; height: 12px; border-radius: 9999px;
  background: linear-gradient(135deg,#34d399,#a78bfa);
  animation: pf-bubble-up .9s ease-out forwards;
  box-shadow: 0 0 0 2px rgba(255,255,255,0.12);
}
@keyframes pf-bubble-up{
  0%   { transform: translateY(0) scale(0.8); opacity: .95 }
  60%  { transform: translateY(-28px) scale(1.1); opacity: .9 }
  100% { transform: translateY(-46px) scale(0.9); opacity: 0 }
}
.pf-cart-pulse{ animation: pf-cart-pulse 0.6s ease-out }
@keyframes pf-cart-pulse{
  0% { transform: scale(1) }
  30%{ transform: scale(1.12) }
  60%{ transform: scale(0.98) }
  100%{ transform: scale(1) }
}

/* --- Konsistente Buttons --- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.625rem .9rem;
  border-radius:1rem; border:1px solid rgba(148,163,184,.25);
  background:linear-gradient(180deg, rgba(30,41,59,.9), rgba(15,23,42,.9));
  color:#e5e7eb; font-weight:600; transition:transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover{ border-color:rgba(148,163,184,.45); box-shadow:0 6px 24px rgba(0,0,0,.35) }
.btn:active{ transform:scale(.98) }
.btn-primary{
  border-color: rgba(16,185,129,.5);
  background: linear-gradient(180deg, rgba(16,185,129,.28), rgba(6,78,59,.18));
  color:#d1fae5;
}
.btn-primary:hover{ border-color: rgba(16,185,129,.7) }
.btn-ghost{
  background:transparent; border-color:rgba(148,163,184,.25); color:#e5e7eb;
}
.pf-tap{ transform: scale(.98); }

/* Karten */
.card{ border:1px solid rgba(148,163,184,.2); background:rgba(2,6,23,.6); border-radius:1.25rem }
/* --- dark hardening --- */
:root { color-scheme: dark; }
html, body, #root {
  background: #0a0a0a !important;
  color: #e5e7eb !important; /* zinc-200 */
  min-height: 100%;
}
*::selection { background: rgba(34,197,94,.35); color: #fff; }
/* --- dark hardening --- */
:root { color-scheme: dark; }
html, body, #root {
  background: #0a0a0a !important;
  color: #e5e7eb !important; /* zinc-200 */
  min-height: 100%;
}
*::selection { background: rgba(34,197,94,.35); color: #fff; }

/* --- Courier open-card animation --- */
@keyframes plugPulse {
  0%   { box-shadow: 0 0 0 0 rgba(34,197,94,0.45); }
  70%  { box-shadow: 0 0 0 12px rgba(34,197,94,0); }
  100% { box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}
.card-open {
  animation: plugPulse 2.2s ease-out infinite;
  border-color: rgba(34,197,94,0.45) !important;
}

/* === Kurier-Panel Pulse === */
@keyframes plugPulseStrong {
  0%   { box-shadow: 0 0 0 0 rgba(34,197,94,0.55); }
  60%  { box-shadow: 0 0 0 14px rgba(34,197,94,0.00); }
  100% { box-shadow: 0 0 0 0 rgba(34,197,94,0.00); }
}
.card-open {
  animation: plugPulseStrong 2.0s ease-out infinite;
  border-color: rgba(34,197,94,0.55) !important;
}

/* Kurier: Puls für eingehende Orders */
@keyframes plugPulseCourier {
  0%   { box-shadow: 0 0 0 0 rgba(34,197,94,.55); }
  60%  { box-shadow: 0 0 0 14px rgba(34,197,94,0); }
  100% { box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}
.card-open { animation: plugPulseCourier 2s ease-out infinite; border-color: rgba(34,197,94,.5) !important; }

@keyframes courierPulse {
  0% { box-shadow: 0 0 0 0 rgba(34,197,94,.55); }
  60% { box-shadow: 0 0 0 14px rgba(34,197,94,0); }
  100% { box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}
.card-open { animation: courierPulse 2s ease-out infinite; border-color: rgba(34,197,94,.5) !important; }
